(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const i of e.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function d(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function r(t){if(t.ep)return;t.ep=!0;const e=d(t);fetch(t.href,e)}})();document.getElementById("file-input").addEventListener("change",function(){let o=this.files[0]?this.files[0].name:"No file chosen";document.getElementById("file-name").textContent=o});document.getElementById("upload-form").onsubmit=async function(o){o.preventDefault();let n=new FormData(this);document.getElementById("result").innerHTML="Processing...";let r=await(await fetch("/upload",{method:"POST",body:n})).json();if(r.error){alert("Error: "+r.error);return}document.getElementById("result").innerHTML=`
    <p>Number of faces detected: <strong>${r.num_faces}</strong></p>
    <img width="500px" src="${r.output_path}" alt="Processed Image" />
  `};document.getElementById("capture-btn").addEventListener("click",function(){let o=document.getElementById("video"),n=document.getElementById("canvas"),d=n.getContext("2d");n.width=o.videoWidth,n.height=o.videoHeight,d.drawImage(o,0,0,n.width,n.height),n.toBlob(r=>{let t=new FormData;t.append("file",r,"captured-image.png"),document.getElementById("result").innerHTML="Processing...",fetch("/upload",{method:"POST",body:t}).then(e=>e.json()).then(e=>{if(e.error){alert("Error: "+e.error);return}document.getElementById("result").innerHTML="";let i=document.createElement("img");i.src=e.output_path+"?t="+new Date().getTime(),i.alt="Processed Image",i.width=500;let c=document.createElement("p");c.innerHTML=`Number of faces detected: <strong>${e.num_faces}</strong>`,document.getElementById("result").appendChild(c),document.getElementById("result").appendChild(i)}).catch(e=>console.error("Error:",e))},"image/png")});
//# sourceMappingURL=index-3a8fa05d.js.map
